<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SWF Player</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100vw;
      background-color: #000;
      overflow: hidden;
    }
    #container {
      width: 100%;
      height: 100%;
    }
    ruffle-player {
      width: 100% !important;
      height: 100% !important;
    }
  </style>
</head>
<body>
<script src="dd0be85ee9c2092132d1.wasm.js"></script>
<script src="c1c1a8b2293497a31e49.wasm.js"></script>
<script src="ruffle.js"></script>
<script>
const urlParams = new URLSearchParams(window.location.search);
const file = urlParams.get('file');
const isDataURL = urlParams.get('isDataURL') === 'true';

if (file) {
  const rufflePlayer = window.RufflePlayer.newest();
  const container = document.createElement('div');
  container.id = 'container';
  container.style.width = '100%';
  container.style.height = '100%';
  document.body.appendChild(container);

  const player = rufflePlayer.createPlayer();
  player.style.width = '100%';
  player.style.height = '100%';
  container.appendChild(player);
  if (isDataURL) {
    fetch(file)
      .then(response => response.blob())
      .then(blob => {
        const objectURL = URL.createObjectURL(blob);
        player.load(objectURL);
      })
      .catch(error => console.error('Error loading data URL:', error));
  } else {
    player.load(file);
  }
} else {
  console.error('No file provided');
}
</script>
</body>
</html>
